// Code generated by command-generator. DO NOT EDIT.
package {{.Name}}

import (
	"github.com/pagu-project/pagu/internal/engine/command"
	"github.com/pagu-project/pagu/internal/entity"
)
{{ range .SubCommands}}
var subCmd{{.Name | title}} *command.Command
{{- end}}

func (c *{{.Name | title}}Cmd) {{.Name}}Command() *command.Command {
	{{.Name}}Cmd := &command.Command{
		Name:        "{{.Name}}",
		Help:        "{{.Help}}",
		AppIDs:      entity.AllAppIDs(),
		TargetFlag:  command.TargetMaskAll,
		SubCommands: make([]*command.Command, 0),
	}
{{ range .SubCommands }}
	subCmd{{.Name | title}} = &command.Command{
		Name:           "{{.Name}}",
		Help:           "{{.Help}}",
		Handler:        c.{{.Name}}Handler,
		ResultTemplate: `{{.ResultTemplate | trim}}`,
		AppIDs:         entity.AllAppIDs(),
		TargetFlag:     command.TargetMaskAll,
		{{- if .Args }}
		Args: []command.Args{
			{{- range .Args}}
			{
				Name:     "{{.Name}}",
				Desc:     "{{.Desc}}",
				InputBox: command.InputBox{{.InputBox | string}},
				Optional: {{.Optional}},
				{{- if .Choices }}
				Choices: []command.Choice{
					{{- range .Choices }}
					{
						Name: {{.Name}},
						Value: {{.Value}},
					}
					{{- end}}
				}
				{{- end}}
			},
			{{- end }}
		},
		{{- end }}
	}
{{- end }}

{{- $cmdName := .Name }}
{{- range .SubCommands }}
	{{$cmdName}}Cmd.AddSubCommand(subCmd{{.Name | title}})
{{- end}}

	return {{.Name}}Cmd
}
